<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Digital Textbook Platform</title>
  <link rel="stylesheet" href="styles/main.css">
  <!-- Google Fonts: Inter (Sans) and Merriweather (Serif) for premium feel -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Merriweather:wght@300;400;700&display=swap"
    rel="stylesheet">
  <!-- Material Symbols for Icons -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
  <div class="app-container">
    <!-- 1. Header (Top Bar) -->
    <header class="top-bar" id="top-bar">
      <div class="logo-area">
        <span class="material-symbols-rounded icon">menu_book</span>
        <span class="brand-name">에듀코어 (EduCore)</span>
      </div>

      <div class="search-bar">
        <span class="material-symbols-rounded search-icon">search</span>
        <input type="text" placeholder="교재 내용 검색...">
      </div>

      <div class="header-controls">
        <button class="icon-btn" aria-label="알림">
          <span class="material-symbols-rounded">notifications</span>
        </button>
        <div class="user-profile">
          <div class="avatar">학</div>
          <span class="username">학생 뷰</span>
          <span class="material-symbols-rounded">expand_more</span>
        </div>
      </div>
    </header>

    <!-- 2. Main Layout Grid -->
    <main class="main-layout">
      <!-- A. Left Sidebar: TOC -->
      <aside class="sidebar-left" id="sidebar-left">
        <div class="sidebar-header">
          <h3>목차</h3>
        </div>
        <nav class="toc-list">
          <!-- TOC Items -->
          <div class="toc-item active" data-chapter="1">
            <span class="chapter-num">01</span>
            <span class="chapter-title">ESG 경영의 이해</span>
          </div>
          <div class="toc-item" data-chapter="2">
            <span class="chapter-num">02</span>
            <span class="chapter-title">환경(Environment)의 핵심</span>
          </div>
          <div class="toc-item" data-chapter="3">
            <span class="chapter-num">03</span>
            <span class="chapter-title">사회적 책임(Social)</span>
          </div>
          <div class="toc-item" data-chapter="4">
            <span class="chapter-num">04</span>
            <span class="chapter-title">지배구조(Governance)</span>
          </div>
        </nav>
      </aside>

      <!-- B. Center: Main Viewer -->
      <section class="main-viewer" id="main-viewer">
        <div class="viewer-tabs">
          <button class="tab-btn active" data-tab="textbook">본문 학습</button>
          <button class="tab-btn" data-tab="guide">쉬운 해설</button>
          <button class="tab-btn" data-tab="quiz">퀴즈</button>
        </div>

        <div class="content-area">
          <!-- 1. Textbook View (PDF) -->
          <article class="content-section active" id="chapter-1-textbook">
            <iframe class="pdf-frame" src="chapter_01_part2.pdf"></iframe>
          </article>

          <article class="content-section hidden" id="chapter-2-textbook">
            <div class="textbook-content" style="padding: 40px;">
              <h1>제2장: 환경(Environment)의 핵심</h1>
              <p>이 챕터의 PDF는 아직 준비되지 않았습니다.</p>
            </div>
          </article>

          <!-- 2. Easy Guide View -->
          <article class="content-section hidden" id="view-guide">
            <iframe class="pdf-frame" src="easy_explanation.html"></iframe>
          </article>

          <!-- 3. Quiz View -->
          <article class="content-section hidden" id="view-quiz">
            <iframe class="pdf-frame" src="practice_quiz.html"></iframe>
          </article>
        </div>
      </section>

      <!-- C. Right: Helper Panel -->
      <aside class="sidebar-right" id="sidebar-right">
        <div class="panel-tabs">
          <button class="panel-tab" data-panel="memo" title="메모"><span
              class="material-symbols-rounded">edit_note</span></button>
          <button class="panel-tab active" data-panel="ai" title="AI 요약"><span
              class="material-symbols-rounded">auto_awesome</span></button>
          <button class="panel-tab" data-panel="dict" title="용어사전"><span
              class="material-symbols-rounded">dictionary</span></button>
        </div>

        <div class="panel-content">
          <!-- 1. Memo Panel -->
          <div class="sidebar-panel" id="panel-memo">
            <div class="helper-card">
              <h4>나의 메모</h4>
              <div class="note-item">
                <span class="note-ref">1.1절</span>
                <p>'지배구조'의 정의를 꼭 기억하자.</p>
              </div>
            </div>
          </div>

          <!-- 2. AI Chat Panel -->
          <div class="sidebar-panel active" id="panel-ai">
            <div class="ai-chat-interface helper-card">
              <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                  <div class="avatar-small">AI</div>
                  <div class="bubble">안녕하세요! 저는 <strong>(10가지 핵심이론으로 만나는) 지속가능경영과 ESG</strong> 전용 AI 튜터입니다.<br>
                    교재 내용에 대해 무엇이든 물어보세요.<br><br>
                    <strong>💡 예시 질문:</strong>
                    <ul>
                      <li>📖 <strong>개념 질문:</strong> "[교재의 핵심 용어]의 정의가 뭐야?"</li>
                      <li>📝 <strong>요약 요청:</strong> "제 1장 내용을 핵심만 요약해 줘."</li>
                      <li>🎯 <strong>시험 대비:</strong> "이 챕터에서 시험에 나올만한 예상 문제를 만들어 줘."</li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="chat-input-area">
                <input type="text" id="chatInput" placeholder="질문을 입력하세요...">
                <button class="send-btn" id="chatSendBtn"><span class="material-symbols-rounded">send</span></button>
              </div>
            </div>
          </div>

          <!-- 3. Dictionary Panel -->
          <div class="sidebar-panel" id="panel-dict">
            <div class="helper-card">
              <h4>용어 사전</h4>
              <p><strong>ESG</strong>: Environmental, Social, and Governance의 약자.</p>
            </div>
          </div>
        </div>
      </aside>
    </main>

    <!-- 3. Bottom Footer -->
    <footer class="bottom-bar">
      <button class="nav-btn prev">
        <span class="material-symbols-rounded">arrow_back</span>
        이전
      </button>

      <div class="progress-container">
        <span class="progress-text">12 / 45 페이지</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 25%"></div>
        </div>
      </div>

      <button class="nav-btn next">
        다음
        <span class="material-symbols-rounded">arrow_forward</span>
      </button>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="scripts/main.js"></script>
</body>

</html>